{"mappings":"YAAA,IA0EUA,EACAC,EA3EJC,EAAO,CACTC,qBAAsBC,SAASC,cAAc,uCAC7CC,sBAAuBF,SAASC,cAAc,wCAC9CE,iBAAkBH,SAASC,cAAc,yBACzCG,aAAcJ,SAASC,cAAc,kBACrCI,cAAeL,SAASC,cAAc,oBACtCK,eAAgBN,SAASC,cAAc,qBACvCM,iBAAkBP,SAASC,cAAc,uBACzCO,sBAAuBR,SAASC,cAAc,kCAG5CQ,EAAc,sBACdC,EAAmB,GAkBzB,SAASC,IACLb,EAAKK,iBAAiBS,UAAUC,IAAI,aACpCf,EAAKI,sBAAsBY,oBAAoB,QAASH,GACxDX,SAASc,oBAAoB,QAASC,GACtCjB,EAAKK,iBAAiBW,oBAAoB,QAASE,GACnDlB,EAAKM,aAAaU,oBAAoB,SAAUG,GAChDnB,EAAKM,aAAaU,oBAAoB,QAASI,E,CAGnD,SAASF,EAAwBG,GACzBA,EAAMC,gBAAkBD,EAAME,QAC9BV,G,CAIR,SAASI,EAAcI,GACA,WAAfA,EAAMG,MACNX,G,CAIR,SAASM,EAAqBE,GAC1BA,EAAMI,iBAENJ,EAAMC,cAAcI,QACpBb,IACAc,aAAaC,WAAWjB,GACxBkB,QAAQC,IAAIlB,GACZmB,2BAA2BC,cAAepB,E,CAG9C,SAASQ,EAAoBC,GACzB,GAAkC,KAA9BA,EAAME,OAAOU,MAAMC,OAAvB,CAKAtB,EAAiBS,EAAME,OAAOY,MAAQd,EAAME,OAAOU,MAEnD,IAAMG,EAAuBC,KAAKC,UAAU1B,GAC5Ce,aAAaY,QAAQ5B,EAAayB,E,MAP9Bf,EAAMC,cAAcI,O,CAhD5B1B,EAAKC,qBAAqBuC,iBAAiB,SAI3C,WACIxC,EAAKK,iBAAiBS,UAAU2B,OAAO,aACvCzC,EAAKI,sBAAsBoC,iBAAiB,QAAS3B,GACrDX,SAASsC,iBAAiB,QAASvB,GACnCjB,EAAKK,iBAAiBmC,iBAAiB,QAAStB,GAChDlB,EAAKM,aAAakC,iBAAiB,SAAUrB,GAC7CnB,EAAKM,aAAakC,iBAAiB,QAASpB,E,IAiDtCtB,EAA4B6B,aAAae,QAAQ/B,GACjDZ,EAAwBsC,KAAKM,MAAM7C,GAErCA,IACAE,EAAKO,cAAc0B,MAAQlC,EAAsB6C,SACjD5C,EAAKQ,eAAeyB,MAAQlC,EAAsB8C,UAClD7C,EAAKS,iBAAiBwB,MAAQlC,EAAsB+C,Y","sources":["src/js/_feedback-modal.js"],"sourcesContent":["const refs = {\n    openFeedbackModalBtn: document.querySelector('[data-action=\"open-feedback-modal\"]'),\n    closeFeedbackModalBtn: document.querySelector('[data-action=\"close-feedback-modal\"]'),\n    feedbackBackdrop: document.querySelector('.js-feedback-backdrop'),\n    feedbackForm: document.querySelector('.feedback-form'),\n    formFieldName: document.querySelector('[id=\"user-name\"]'),\n    formFieldEmail: document.querySelector('[id=\"user-email\"]'),\n    formFieldMessage: document.querySelector('[id=\"user-message\"]'),\n    feedbackFormSubmitBtn: document.querySelector('.feedback-form__submit-button')\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst feedbackFormData = {};\n\n\nrefs.openFeedbackModalBtn.addEventListener('click', onFeedbackModalOpen);\n\npopulateFeedbackForm();\n\nfunction onFeedbackModalOpen() {\n    refs.feedbackBackdrop.classList.remove(\"is-hidden\");\n    refs.closeFeedbackModalBtn.addEventListener('click', onFeedbackModalClose)\n    document.addEventListener('keyup', onEscKeyPress);\n    refs.feedbackBackdrop.addEventListener('click', onFeedbackBackdropClick)\n    refs.feedbackForm.addEventListener('submit', onFeedbackFormSubmit);\n    refs.feedbackForm.addEventListener('input', onFeedbackFormInput);\n}\n\n\n\nfunction onFeedbackModalClose() {\n    refs.feedbackBackdrop.classList.add(\"is-hidden\");\n    refs.closeFeedbackModalBtn.removeEventListener('click', onFeedbackModalClose)\n    document.removeEventListener('keyup', onEscKeyPress);\n    refs.feedbackBackdrop.removeEventListener('click', onFeedbackBackdropClick)\n    refs.feedbackForm.removeEventListener('submit', onFeedbackFormSubmit);\n    refs.feedbackForm.removeEventListener('input', onFeedbackFormInput);\n}\n\nfunction onFeedbackBackdropClick(event) {\n    if (event.currentTarget === event.target) {\n        onFeedbackModalClose();\n    }\n}\n\nfunction onEscKeyPress(event) {\n    if (event.code === 'Escape') {\n        onFeedbackModalClose()\n    }\n}\n\nfunction onFeedbackFormSubmit(event) {\n    event.preventDefault();\n    // console.log(feedbackFormData);\n    event.currentTarget.reset();\n    onFeedbackModalClose()\n    localStorage.removeItem(STORAGE_KEY);\n    console.log(feedbackFormData)\n    saveFormDataToLocalstorage(messageNumber, feedbackFormData)\n}\n\nfunction onFeedbackFormInput(event) {\n    if (event.target.value.trim() === \"\") {\n        event.currentTarget.reset();\n    return\n  }\n    \n    feedbackFormData[event.target.name] = event.target.value;\n    \n    const feedbackFormDataJSON = JSON.stringify(feedbackFormData);\n    localStorage.setItem(STORAGE_KEY, feedbackFormDataJSON);\n}\n\nfunction populateFeedbackForm() {\n    const savedFeedbackFormDataJSON = localStorage.getItem(STORAGE_KEY);\n    const savedFeedbackFormData = JSON.parse(savedFeedbackFormDataJSON);\n\n    if (savedFeedbackFormDataJSON) {\n        refs.formFieldName.value = savedFeedbackFormData.userName;\n        refs.formFieldEmail.value = savedFeedbackFormData.userEmail;\n        refs.formFieldMessage.value = savedFeedbackFormData.userMessage;\n    }\n}\n\n"],"names":["savedFeedbackFormDataJSON","savedFeedbackFormData","$98b11993bd859fe4$var$refs","openFeedbackModalBtn","document","querySelector","closeFeedbackModalBtn","feedbackBackdrop","feedbackForm","formFieldName","formFieldEmail","formFieldMessage","feedbackFormSubmitBtn","$98b11993bd859fe4$var$STORAGE_KEY","$98b11993bd859fe4$var$feedbackFormData","$98b11993bd859fe4$var$onFeedbackModalClose","classList","add","removeEventListener","$98b11993bd859fe4$var$onEscKeyPress","$98b11993bd859fe4$var$onFeedbackBackdropClick","$98b11993bd859fe4$var$onFeedbackFormSubmit","$98b11993bd859fe4$var$onFeedbackFormInput","event","currentTarget","target","code","preventDefault","reset","localStorage","removeItem","console","log","saveFormDataToLocalstorage","messageNumber","value","trim","name","feedbackFormDataJSON","JSON","stringify","setItem","addEventListener","remove","getItem","parse","userName","userEmail","userMessage"],"version":3,"file":"index.43df298e.js.map"}