{"mappings":"AAAA,MAAMA,EAAO,CACTC,qBAAsBC,SAASC,cAAc,uCAC7CC,sBAAuBF,SAASC,cAAc,wCAC9CE,iBAAkBH,SAASC,cAAc,yBACzCG,aAAcJ,SAASC,cAAc,kBACrCI,cAAeL,SAASC,cAAc,oBACtCK,eAAgBN,SAASC,cAAc,qBACvCM,iBAAkBP,SAASC,cAAc,uBACzCO,sBAAuBR,SAASC,cAAc,kCAI5CQ,EAAmB,GAkBzB,SAASC,IACLZ,EAAKK,iBAAiBQ,UAAUC,IAAI,aACpCd,EAAKI,sBAAsBW,oBAAoB,QAASH,GACxDV,SAASa,oBAAoB,QAASC,GACtChB,EAAKK,iBAAiBU,oBAAoB,QAASE,GACnDjB,EAAKM,aAAaS,oBAAoB,SAAUG,GAChDlB,EAAKM,aAAaS,oBAAoB,QAASI,E,CAGnD,SAASF,EAAwBG,GACzBA,EAAMC,gBAAkBD,EAAME,QAC9BV,G,CAIR,SAASI,EAAcI,GACA,WAAfA,EAAMG,MACNX,G,CAIR,SAASM,EAAqBE,GAC1BA,EAAMI,iBAENJ,EAAMC,cAAcI,QACpBb,IACAc,aAAaC,WA7CG,uBA8ChBC,QAAQC,IAAIlB,GACZmB,2BAA2BC,cAAepB,E,CAG9C,SAASQ,EAAoBC,GACzB,GAAkC,KAA9BA,EAAME,OAAOU,MAAMC,OAEvB,YADIb,EAAMC,cAAcI,QAIxBd,EAAiBS,EAAME,OAAOY,MAAQd,EAAME,OAAOU,MAEnD,MAAMG,EAAuBC,KAAKC,UAAU1B,GAC5Ce,aAAaY,QA3DG,sBA2DkBH,E,CAvDtCnC,EAAKC,qBAAqBsC,iBAAiB,SAI3C,WACIvC,EAAKK,iBAAiBQ,UAAU2B,OAAO,aACvCxC,EAAKI,sBAAsBmC,iBAAiB,QAAS3B,GACrDV,SAASqC,iBAAiB,QAASvB,GACnChB,EAAKK,iBAAiBkC,iBAAiB,QAAStB,GAChDjB,EAAKM,aAAaiC,iBAAiB,SAAUrB,GAC7ClB,EAAKM,aAAaiC,iBAAiB,QAASpB,E,IAgDhD,WACI,MAAMsB,EAA4Bf,aAAagB,QA/D/B,uBAgEVC,EAAwBP,KAAKQ,MAAMH,GAErCA,IACAzC,EAAKO,cAAcyB,MAAQW,EAAsBE,SACjD7C,EAAKQ,eAAewB,MAAQW,EAAsBG,UAClD9C,EAAKS,iBAAiBuB,MAAQW,EAAsBI,Y,CA/D5DC","sources":["src/js/_feedback-modal.js"],"sourcesContent":["const refs = {\n    openFeedbackModalBtn: document.querySelector('[data-action=\"open-feedback-modal\"]'),\n    closeFeedbackModalBtn: document.querySelector('[data-action=\"close-feedback-modal\"]'),\n    feedbackBackdrop: document.querySelector('.js-feedback-backdrop'),\n    feedbackForm: document.querySelector('.feedback-form'),\n    formFieldName: document.querySelector('[id=\"user-name\"]'),\n    formFieldEmail: document.querySelector('[id=\"user-email\"]'),\n    formFieldMessage: document.querySelector('[id=\"user-message\"]'),\n    feedbackFormSubmitBtn: document.querySelector('.feedback-form__submit-button')\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst feedbackFormData = {};\n\n\nrefs.openFeedbackModalBtn.addEventListener('click', onFeedbackModalOpen);\n\npopulateFeedbackForm();\n\nfunction onFeedbackModalOpen() {\n    refs.feedbackBackdrop.classList.remove(\"is-hidden\");\n    refs.closeFeedbackModalBtn.addEventListener('click', onFeedbackModalClose)\n    document.addEventListener('keyup', onEscKeyPress);\n    refs.feedbackBackdrop.addEventListener('click', onFeedbackBackdropClick)\n    refs.feedbackForm.addEventListener('submit', onFeedbackFormSubmit);\n    refs.feedbackForm.addEventListener('input', onFeedbackFormInput);\n}\n\n\n\nfunction onFeedbackModalClose() {\n    refs.feedbackBackdrop.classList.add(\"is-hidden\");\n    refs.closeFeedbackModalBtn.removeEventListener('click', onFeedbackModalClose)\n    document.removeEventListener('keyup', onEscKeyPress);\n    refs.feedbackBackdrop.removeEventListener('click', onFeedbackBackdropClick)\n    refs.feedbackForm.removeEventListener('submit', onFeedbackFormSubmit);\n    refs.feedbackForm.removeEventListener('input', onFeedbackFormInput);\n}\n\nfunction onFeedbackBackdropClick(event) {\n    if (event.currentTarget === event.target) {\n        onFeedbackModalClose();\n    }\n}\n\nfunction onEscKeyPress(event) {\n    if (event.code === 'Escape') {\n        onFeedbackModalClose()\n    }\n}\n\nfunction onFeedbackFormSubmit(event) {\n    event.preventDefault();\n    // console.log(feedbackFormData);\n    event.currentTarget.reset();\n    onFeedbackModalClose()\n    localStorage.removeItem(STORAGE_KEY);\n    console.log(feedbackFormData)\n    saveFormDataToLocalstorage(messageNumber, feedbackFormData)\n}\n\nfunction onFeedbackFormInput(event) {\n    if (event.target.value.trim() === \"\") {\n        event.currentTarget.reset();\n    return\n  }\n    \n    feedbackFormData[event.target.name] = event.target.value;\n    \n    const feedbackFormDataJSON = JSON.stringify(feedbackFormData);\n    localStorage.setItem(STORAGE_KEY, feedbackFormDataJSON);\n}\n\nfunction populateFeedbackForm() {\n    const savedFeedbackFormDataJSON = localStorage.getItem(STORAGE_KEY);\n    const savedFeedbackFormData = JSON.parse(savedFeedbackFormDataJSON);\n\n    if (savedFeedbackFormDataJSON) {\n        refs.formFieldName.value = savedFeedbackFormData.userName;\n        refs.formFieldEmail.value = savedFeedbackFormData.userEmail;\n        refs.formFieldMessage.value = savedFeedbackFormData.userMessage;\n    }\n}\n\n"],"names":["$ac46a90ce87fd592$var$refs","openFeedbackModalBtn","document","querySelector","closeFeedbackModalBtn","feedbackBackdrop","feedbackForm","formFieldName","formFieldEmail","formFieldMessage","feedbackFormSubmitBtn","$ac46a90ce87fd592$var$feedbackFormData","$ac46a90ce87fd592$var$onFeedbackModalClose","classList","add","removeEventListener","$ac46a90ce87fd592$var$onEscKeyPress","$ac46a90ce87fd592$var$onFeedbackBackdropClick","$ac46a90ce87fd592$var$onFeedbackFormSubmit","$ac46a90ce87fd592$var$onFeedbackFormInput","event","currentTarget","target","code","preventDefault","reset","localStorage","removeItem","console","log","saveFormDataToLocalstorage","messageNumber","value","trim","name","feedbackFormDataJSON","JSON","stringify","setItem","addEventListener","remove","savedFeedbackFormDataJSON","getItem","savedFeedbackFormData","parse","userName","userEmail","userMessage","$ac46a90ce87fd592$var$populateFeedbackForm"],"version":3,"file":"index.d0f768d4.js.map"}